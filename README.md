# ALPHATIC - Advanced Portfolio Analysis System

**Version 1.0** | Professional ETF Portfolio Analysis for Real Capital Allocation

---

## ğŸ“‹ What You Have

Your complete Alphatic installation includes:

### Core Application Files
- **index.html** - Main application interface (open this in browser)
- **app.js** - Fixed calculation engine with accurate metrics
- **portfolios.js** - Sample portfolios and storage
- **fetch_etf_data.py** - Real market data fetcher
- **data.js** - Real ETF data (generated by Python script)

### Documentation
- **ALPHATIC_USER_MANUAL.md** - Comprehensive 15,000-word guide
- **QUICK_START_GUIDE.md** - Get running in 5 minutes
- **README.md** - This file

---

## ğŸš€ Quick Start (First Time Users)

### 1. Fetch Real Data
```bash
python fetch_etf_data.py
```
Wait 2-5 minutes for 36 ETFs Ã— 20 years of data.

### 2. Open Application
Double-click `index.html`

### 3. Build Portfolio
Add ETFs, set weights to 100%, analyze!

### 4. Read Documentation
- Start with: `QUICK_START_GUIDE.md`
- Deep dive: `ALPHATIC_USER_MANUAL.md`

---

## âœ¨ What's Been Fixed

### Critical Bug Fixes (12/30/2024)

#### Bug #1: NaN in Alpha âœ… FIXED
**Problem**: Different ETFs had different date ranges, causing array length mismatches.

**Solution**: 
- Added `alignDataArrays()` function
- Finds intersection of all dates across holdings
- All calculations now use synchronized data

#### Bug #2: NaN in Backtest âœ… FIXED
**Problem**: Same alignment issue in backtest calculations.

**Solution**: 
- Backtest now uses aligned data
- Comprehensive error checking at every step
- Clear error messages if issues occur

#### Bug #3: Missing Metrics âœ… FIXED
**Problem**: Only showing beta, not showing absolute vs relative metrics.

**Solution**: Now shows **BOTH**:

**Absolute Metrics:**
- Annual Return (your actual return)
- Volatility (your actual risk)
- Sharpe Ratio (risk-adjusted performance)
- Max Drawdown (worst decline)

**Relative Metrics (vs S&P 500):**
- Beta (market sensitivity)
- Alpha (risk-adjusted excess return)
- Excess Return (simple difference)
- Correlation (to SPY)

#### Bug #4: Incorrect Alpha Calculation âœ… FIXED
**Problem**: Alpha wasn't using proper CAPM formula.

**Solution**: 
- Now correctly implements: Î± = R - [Rf + Î²(Rm - Rf)]
- Uses 4.5% risk-free rate
- Accounts for portfolio beta

#### Bug #5: Data Validation âœ… FIXED
**Problem**: No checks for missing or invalid data.

**Solution**:
- Validates SPY benchmark exists
- Checks all holdings have data
- Shows which ETFs are missing data
- Prevents analysis with incomplete data

---

## ğŸ“Š Key Features

### Portfolio Builder
- **36 ETFs** across all major factors
- **Drag-and-drop** weight allocation
- **Automatic rebalancing** to 100%
- **Save/load** portfolios

### Analysis Engine
- **15+ metrics** including alpha, beta, Sharpe
- **Absolute metrics** (your performance)
- **Relative metrics** (vs S&P 500)
- **Factor exposure** breakdown
- **Correlation matrix**
- **Risk contribution** analysis

### Backtest Module
- **Real historical data** (up to 20 years)
- **Growth charts** (you vs SPY)
- **Drawdown analysis**
- **Rolling metrics**
- **Crisis period** analysis (2008, COVID)

### Data Management
- **Yahoo Finance integration**
- **Automatic return calculation**
- **20 years of history** (when available)
- **Monthly updates** supported

---

## ğŸ¯ ETF Universe (36 Total)

### US Equity (20)
- **Broad Market**: SPY, VTI, VOO, QQQ
- **Growth**: VUG, SCHG, IVW, IWF
- **Value**: VTV, SCHV, IVE
- **Small Cap**: VB, IJR, IWM
- **Factors**: MTUM, QUAL, USMV
- **Dividend**: SCHD, VYM

### International (6)
- **Developed**: VEU, VEA, VGK
- **Emerging**: VWO, IEMG, EEM

### Sectors (5)
- VGT (Tech), XLK (Tech), XLF (Finance), XLE (Energy), XLV (Healthcare)

### Other (5)
- **Real Estate**: VNQ
- **Bonds**: BND, AGG, TLT, SHY
- **Alternatives**: GLD

---

## ğŸ“ˆ Understanding Your Results

### The Most Important Metric: ALPHA

**Alpha = Risk-Adjusted Excess Return**

```
Positive Alpha = Skill-Based Outperformance âœ“
Negative Alpha = Underperformance for Risk âœ—
```

**What's Good:**
- Above 2%: Excellent
- 1-2%: Very good
- 0-1%: Decent
- Below 0%: Just buy index funds

### Why Alpha Matters More Than Raw Returns

**Example:**

**Portfolio A:**
- Return: 15%
- Beta: 1.5
- Alpha: 0%
â†’ Just taking more risk, no skill

**Portfolio B:**
- Return: 12%
- Beta: 0.8
- Alpha: 2%
â†’ Lower risk, positive skill-based returns

**Portfolio B is better!**

### Reading Your Results

```
Annual Return: 12.45%        â† What you earn
Volatility: 15.23%           â† How risky it is
Sharpe Ratio: 0.522          â† Return per unit of risk
Max Drawdown: -23.45%        â† Worst decline

Beta: 0.875                  â† 87.5% as volatile as market
Alpha: 1.85%                 â† 1.85% skill-based excess return âœ“
Excess Return: 2.12%         â† Beat SPY by 2.12%
Correlation: 0.912           â† Highly correlated to SPY
```

**Interpretation:**
- You generated 12.45% annual return
- Took 87.5% of market's risk (beta 0.875)
- Generated 1.85% alpha (positive skill!)
- Beat SPY by 2.12% overall
- High correlation means limited diversification

---

## âš ï¸ Critical Reminders for Real Capital

### 1. Backtests Are Not Predictions
Past performance â‰  future results

### 2. Start Small
Test with 10-20% of capital first

### 3. Monitor Regularly
- Update data: Monthly
- Review metrics: Quarterly
- Rebalance: Quarterly or when drift >5%

### 4. Understand Your Risk Tolerance
If max drawdown scares you, reduce risk

### 5. Fees Matter
Keep average expense ratio below 0.15%

### 6. Taxes Matter
Alphatic doesn't account for taxes - you must

### 7. Don't Overfit
Test only portfolios with logical rationale

### 8. Diversify
Don't put everything in one factor or sector

---

## ğŸ”§ Maintenance

### Weekly
- None required

### Monthly
```bash
# Update market data
python fetch_etf_data.py

# Refresh browser
# Review portfolio performance
```

### Quarterly
- Rebalance if weights drifted >5%
- Review factor exposures
- Check if market regime changed

### Annually
- Comprehensive portfolio review
- Consider factor rotation
- Tax-loss harvest
- Update investment thesis

---

## ğŸ“š Documentation Guide

### For Quick Setup (5 minutes)
â†’ Read **QUICK_START_GUIDE.md**

### For Comprehensive Understanding
â†’ Read **ALPHATIC_USER_MANUAL.md**

**Manual Covers:**
1. Installation & setup
2. Portfolio building
3. All analysis features
4. Backtest interpretation
5. Metric definitions
6. Best practices
7. Troubleshooting
8. Advanced strategies
9. Glossary
10. Sample portfolios

---

## ğŸ› Troubleshooting

### "Real ETF data not loaded"
```bash
# Run the data fetcher
python fetch_etf_data.py

# Refresh browser
```

### NaN in Results
1. Check portfolio weights = 100%
2. Open console (F12) and check for errors
3. Try removing newest ETF
4. Refresh page

### ETF Shows "No Data"
1. Re-run `python fetch_etf_data.py`
2. Use alternative ETF
3. Check Yahoo Finance manually

### Analysis Takes Too Long
1. Reduce holdings to <12
2. Close other browser tabs
3. Use modern browser

**For More**: See Troubleshooting section in full manual

---

## ğŸ’¡ Best Practices

### Portfolio Construction
1. Start with clear hypothesis
2. Diversify across 3+ factors
3. Keep 6-12 holdings (not too many)
4. Ensure weights total 100%
5. Check correlation matrix
6. Verify expense ratios <0.15%

### Analysis
1. Use â‰¥5 years backtest
2. Include bear market period
3. Focus on alpha and Sharpe ratio
4. Check max drawdown is tolerable
5. Compare to similar risk portfolios
6. Understand WHY portfolio works

### Decision Making
**Never choose based solely on highest backtest return!**

**Instead, optimize for:**
- Positive alpha
- High Sharpe ratio (>0.7)
- Acceptable max drawdown
- Logical factor exposures

---

## ğŸ“Š Sample Portfolios to Try

### 60/40 Classic
```
VOO: 60%
BND: 40%

Expected: ~8% return, ~12% volatility
```

### Factor Diversified
```
VOO: 20%, VTV: 15%, MTUM: 15%, QUAL: 15%
VEU: 10%, SCHD: 10%, BND: 10%, VNQ: 5%

Expected: ~10% return, ~14% volatility
High alpha potential
```

### Growth Focused
```
QQQ: 40%, VGT: 30%, VUG: 20%, BND: 10%

Expected: ~12% return, ~18% volatility
```

### All-Weather
```
VOO: 20%, VEU: 10%, TLT: 40%
BND: 15%, GLD: 10%, VNQ: 5%

Expected: ~7% return, ~10% volatility
Stable across all regimes
```

---

## ğŸ”® Future Enhancements

**Planned for Version 1.1:**
- Portfolio optimizer (max Sharpe)
- Regime detection
- Factor attribution
- CSV/Excel export

**Planned for Version 2.0:**
- Monte Carlo simulation
- Tax-aware rebalancing
- Multi-currency support
- Options strategies

---

## ğŸ“ Support

### Getting Help
1. Check documentation first
2. Review browser console (F12)
3. Try with sample portfolios
4. Verify data is loaded

### Known Limitations
- ETF-only (no individual stocks)
- No tax calculations
- No real-time data
- No automated trading

---

## âš–ï¸ Legal Disclaimer

**Alphatic is an analytical tool, not investment advice.**

- All calculations are provided "as is"
- Past performance does not guarantee future results
- You are responsible for all investment decisions
- Consult a financial advisor for personalized guidance
- The author is not responsible for investment losses

**This is for serious investors committing real capital. Use responsibly.**

---

## ğŸ“ Version History

**Version 1.0** (December 30, 2024)
- Initial release
- Real data integration
- Fixed all calculation bugs
- Comprehensive documentation
- 36 ETF universe

---

## ğŸ“ Learning Resources

### Recommended Reading
- "A Random Walk Down Wall Street" - Burton Malkiel
- "The Intelligent Asset Allocator" - William Bernstein
- "Factor Investing" - Andrew Ang
- "Common Sense on Mutual Funds" - John Bogle

### Key Concepts to Understand
- Modern Portfolio Theory
- Capital Asset Pricing Model (CAPM)
- Factor investing
- Risk-adjusted returns
- Rebalancing strategies

---

## ğŸš€ Ready to Start?

1. âœ… Run `python fetch_etf_data.py`
2. âœ… Open `index.html`
3. âœ… Read `QUICK_START_GUIDE.md`
4. âœ… Build your first portfolio
5. âœ… Analyze and optimize
6. âœ… Make informed investment decisions

**Good luck with your portfolio! ğŸ¯**

---

*Alphatic - Where Real Data Meets Real Capital*

*Last Updated: December 30, 2024*
